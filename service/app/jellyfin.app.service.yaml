services:
  jellyfin:
    image: ${JELLYFIN_IMAGE}
    container_name: ${COMPOSE_PROJECT_PREFIX}-jellyfin
    
    restart: ${COMPOSE_RESTART_POLICY}
    # user: uid:gid
    # network_mode: 'host'
    volumes:
      - ./vol/jf/media:/media
      - ./vol/jf/media2:/media2:ro
      - ./vol/jf/config:/config
      - ./vol/jfcache:/cache
    networks:
      - net
    ports:
      - ${JELLYFIN_PORT}:8096
    # Optional - alternative address used for autodiscovery
    # environment:
    #   - JELLYFIN_PublishedServerUrl=http://example.com
    # Optional - may be necessary for docker healthcheck to pass if running in host network mode
    # extra_hosts:
    #   - 'host.docker.internal:host-gateway'